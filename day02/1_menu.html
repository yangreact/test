<!DOCTYPE HTML>
<html>
<head>
<title>1. 实现伸缩二级菜单</title>
<meta charset="utf-8" />
<link rel="stylesheet" href="css/1.css" />

</head>
<body>
	<ul class="tree">
		<li>
			<span class="open">考勤管理</span>
			<ul>
				<li>日常考勤</li>
				<li>请假申请</li>
				<li>加班/出差</li>
			</ul>
		</li>
		<li>
      <span>信息中心</span>
			<ul>
				<li>通知公告</li>
				<li>公司新闻</li>
				<li>规章制度</li>
			</ul>
		</li>
		<li>
      <span>协同办公</span>
			<ul>
				<li>公文流转</li>
				<li>文件中心</li>
				<li>内部邮件</li>
				<li>即时通信</li>
				<li>短信提醒</li>
			</ul>
		</li>
	</ul>
  <!--<script src="js/1.js"></script>-->
  <script>
    var spans=document.querySelectorAll(".tree span");
    for(var span of spans){
      span.onclick=e=>{
        var span=e.target;
        if(span.className=="open"){
          span.className="";
        }else{
          var openSpan=document.querySelector(".tree span");
          if(openSpan!=null){
            openSpan.className="";
            span.className="open";
          }
        }
      }
    }
//    var spans=document.querySelectorAll(".tree span");
//    //Step2: 绑定事件处理函数
//    //遍历spans中每个span
//    for(var span of spans){//错误:...iterator //60+
//      span.onclick=e=>{//为当前span绑定单击事件处理函数
//        var span=e.target;//Step3: 查找要修改的元素
//        //如果自己是开着的,就关闭自己
//        if(span.className=="open")
//          span.className="";//清除自己的className
//        else{//否则
//          var openSpan=//在当前ul下找开着的菜单:
//              document.querySelector(".tree .open");
//          if(openSpan!=null)//如果找到
//          //先将开着的菜单关上
//            openSpan.className="";
//          span.className="open";//将自己打开
//        }
//      }
//    }
  </script>
</body>
</html>
